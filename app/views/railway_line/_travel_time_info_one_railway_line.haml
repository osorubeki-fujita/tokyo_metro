- # 各線の所要時間情報
- # @note 一般的な分岐などがない路線で用いる部分テンプレート
- # @note 部分テンプレート travel_time_info_common を内部で呼び出す。
- # @version 2014.11.27.13.42
%div{ class: [ :railway_line , railway_line.css_class_name + "_travel_time" ] }
  - # stations = railway_line.stations.sort_by { | station | station.index_in_railway_line }
  - stations = railway_line.stations.sort_by { | station | station.station_code }
  - sections = stations.each_cons(2).to_a
  - travel_time_infos = railway_line.travel_time_infos
  %table{ class: :travel_time_info }
    - #
    - if through_operation_a.present?
      = through_operation_a.call
    - if through_operation_a_info.present?
      = through_operation_a_info.call
      = travel_time_info_empty_row
    - #
    = render( "travel_time_info_common" , stations: stations , sections: sections , travel_time_infos: travel_time_infos , special_proc_of_station: special_proc_of_station , special_proc_of_section: special_proc_of_section )
    - #
    - if through_operation_b_info.present?
      = travel_time_info_empty_row
      = through_operation_b_info.call
    - if through_operation_b.present?
      = through_operation_b.call