@charset "utf-8" ;

@import '../fundamental_settings.scss' ;
@import 'concern/station/in_table_cell.scss' ;

@mixin passengerSurveyTableStationInfoCommonSettings( $img_margin_right ) {
  $td_height: 40px ;
  $td_station_info_width: 320px ;
  $station_codes_margin_right: $img_margin_right * 2 ;
  #passenger_survey_table {
    td.station_info {
      .station_codes {
        width: $td_station_info_width ;
        margin: {
          right: $station_codes_margin_right ;
        }
      }
    }
  }
}

%passengerSurveyTableCommonSettings {
  #passenger_survey_table {
    table {
      @extend %stationInfoInTableCommonSettings ;
      @extend %cycleOfRowColor ;
      border-collapse: collapse ;
      border-spacing: 0px ;
      td {
        padding: {
          top: 0px ;
          bottom: 0px ;
          left: 8px ;
          right: 8px ;
        }
      }
      tr.passenger_survey_table_row {
          border: {
            top: dotted 1px #999 ;
            bottom: dotted 1px #999 ;
          }
        td {
          text-align: right ;
        }
        td.order {
          width: 40px ;
        }
        td.survey_year {
          color: #666 ;
          font: {
            size: 9pt ;
          }
        }
        td.passenger_journey {
          font: {
            size: 12pt ;
          }
        }
        td.graph {
          svg {
            height: 20px ;
            width: 128px ;
          }
        }
      }
      thead {
        tr {
          border: solid 1px #999 ;
        }
        td {
          border: {
            bottom: solid 1px #999 ;
          }
        }
        font: {
          size: 9pt ;
        }
        background-color: #e0e0e0 ;
        td {
          text-align: left ;
          padding: {
            top: 4px ;
            bottom: 4px ;
          }
        }
      }
    }   
  }
}

@mixin passengerSurveyTableSvgColorSettings( $color ) {
  td.graph {
    svg {
      rect {
        fill: $color ;
      }
   }
  }
}

@mixin passengerSurveyTableNormalCommonSettings( $img_length , $img_margin_right ) {
  $lines_max: 4 ;
  .tokyo_metro , .station {
    table {
      $station_codes_width: ( $img_length + $img_margin_right ) * $lines_max ;
      td.station_info {
        .station_codes {
          width: $station_codes_width ;
        }
      }
      @include passengerSurveyTableSvgColorSettings( $operator_color ) ;
    }
  }
}

@mixin passengerSurveyTableRailwaySettings( $img_length , $img_margin_right ) {
  %passengerSurveyTableRailwayCommonSettings {
    table {
      $station_codes_width: $img_length + $img_margin_right ;
      td.station_info {
        width: 216px ;
      }
    }
  }
  .ginza {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_ginza_bgcolor ) ;
  }
  .marunouchi {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_marunouchi_bgcolor ) ;
  }
  .hibiya {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_hibiya_bgcolor ) ;
  }
  .tozai {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_tozai_bgcolor ) ;
  }
  .chiyoda {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_chiyoda_bgcolor ) ;
  }
  .yurakucho {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_yurakucho_bgcolor ) ;
  }
  .hanzomon {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_hanzomon_bgcolor ) ;
  }
  .namboku {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_namboku_bgcolor ) ;
  }
  .fukutoshin {
    @extend %passengerSurveyTableRailwayCommonSettings ;
    @include passengerSurveyTableSvgColorSettings( $line_fukutoshin_bgcolor ) ;
  }
}

%bgcolorOfPassengerSurveyOfStation {
  $color_top: rgba( $operator_color , 0.2 ) ;
  $color_bottom: #f6f6f6 ;
  //
  background: $color_top ;
  // Firefox
  background: -moz-linear-gradient(top,
    #{$color_top},
    #{$color_bottom}
  );
  // Safari, Google Chrome
  background: -webkit-gradient(linear, left top, left bottom,
    from( #{$color_top} ),
    to( #{$color_bottom} )
  );
}

#passenger_survey_contents {
  $img_length: 24px ;
  $img_margin_right: 4px ;
  //
  @extend %passengerSurveyTableCommonSettings ;
  @include passengerSurveyTableStationInfoCommonSettings( $img_margin_right ) ;
  @include passengerSurveyTableNormalCommonSettings( $img_length , $img_margin_right ) ;
  @include passengerSurveyTableRailwaySettings( $img_length , $img_margin_right ) ;
}

#main_content_center {
  .ranking {
    clear: both ;
  }
}

#passenger_survey_of_station {
  @extend %bgcolorOfPassengerSurveyOfStation ;
  text-align: right ;
  padding: {
    top: 2px ;
    bottom: 2px ;
    right: 8px ;
  }
  @extend %marginBottom8 ;
  $font_size_base: 12px ;
  $font_size_year: $font_size_base * 0.75 ;
  font: {
    size: $font_size_base ;
  }
  .year {
    font: {
      size: $font_size_year ;
    }
  }
}